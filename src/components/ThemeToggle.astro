---
import Sun from "@icons/Sun.astro";
import Moon from "@icons/Moon.astro";
---

<button
  id="themeToggle"
  aria-label="Theme toggle">
  <Sun />
  <Moon />
</button>

<style>
  html:not(.dark) .sun {
    display: none;
  }

  :global(.dark) .moon {
    display: none;
  }
</style>

<script is:inline>
  const handleToggleClick = () => {
    const element = document.documentElement;
    element.classList.toggle("dark");

    const isDark = element.classList.contains("dark");
    localStorage.setItem("theme", isDark ? "dark" : "light");
  };

  document
    .getElementById("themeToggle")
    .addEventListener("click", handleToggleClick);
</script>
